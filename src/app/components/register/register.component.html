<!-- Parent Container  -->
<div class="container min-vh-100">
  <div class="row justify-content-center align-items-center min-vh-100">
    <div class="col-sm-12 col-md-8 col-lg-6 d-flex justify-content-center">

      <!-- Background Card & Form -->
      <div class="p-lg-2 rounded shadow  position-relative bg-primary bg-opacity-10"
        style="height: 600px; width: 500px;">
        <form [formGroup]="form" (ngSubmit)="onSubmit()"
          class="h-100 d-flex flex-column justify-content-center position-relative">
          <h1 class="position-absolute top-0 start-0 m-3 text-primary fw-bolder">Amazon</h1>

          <!-- Campo nome -->
          <div class="row mb-3 align-items-center mt-5">
            <div class="col-4 text-end">
            </div>
            <div class="d-flex justify-content-center mt-auto">
              <div class="col-6">
                <input type="text" pInputText formControlName="nome" placeholder="nome" class="ng-invalid ng-dirty" />
              </div>
            </div>
          </div>

          <!-- Campo Cognome  -->
          <div class="row mb-3 align-items-center">
            <div class="col-4 text-end">
            </div>
            <div class="d-flex justify-content-center mt-auto">
              <div class="col-6">
                <input type="text" pInputText formControlName="cognome" placeholder="cognome" />
                <p class="hasError" *ngIf="!form.get('cognome')?.valid && form.get('cognome')?.touched">
                  Il campo cognome e' obbligatorio
                </p>
              </div>
            </div>
          </div>

          <!-- Campo Email -->
          <div class="row mb-3 align-items-center">
            <div class="col-4 text-end">
            </div>
            <div class="d-flex justify-content-center mt-auto">
              <div class="col-6">
                <input type="email" pInputText formControlName="email" placeholder="email" />
                <p class="hasError" *ngIf="!form.get('email')?.valid && form.get('email')?.touched">
                  Il campo email e' obbligatorio
                </p>
                <p class="hasError" *ngIf="form.controls.email.hasError('email')">
                  L'email non e' valida
                </p>
              </div>
            </div>
          </div>

          <!-- Gender Radio Button -->
          <div class="d-flex justify-content-center">
            <label>
              <input type="radio" id="maschio" name="sesso" value="maschio" formControlName="sesso" />Maschio
            </label>
            <label>
              <input type="radio" id="femmina" name="sesso" value="femmina" formControlName="sesso" />Femmina
            </label>
            <label>
              <input type="radio" id="altro" name="sesso" value="altro" formControlName="sesso" />Altro
            </label>
            <div *ngIf="form.get('sesso')?.touched && form.get('sesso')?.invalid">
              Seleziona il tuo sesso.
            </div>
          </div>

          <!-- Campo Password -->
          <div class="d-flex justify-content-center">
            <p-password formControlName="password" [toggleMask]="true" placeholder="password"
              strongRegex="^(?=.*\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[^\w\d\s:])([^\s]){6,16}$" />
            <p class="hasError" *ngIf="!form.get('password')?.valid && form.get('password')?.touched">
              La password è obbligatoria
            </p>
            <p class="hasError" *ngIf="form.controls.password.hasError('pattern')">
              La password deve contenere almeno un numero, una maiuscola, un carattere speciale con minimo 6 caratteri
            </p>
          </div>

          <!-- Campo Ripeti Password -->
          <div class="d-flex justify-content-center">
            <p-password formControlName="ripetipassword" [toggleMask]="true" placeholder="ripeti password" />
            <p class="hasError" *ngIf="!form.get('ripetipassword')?.valid && form.get('ripetipassword')?.touched">
              Il campo conferma password è obbligatorio
            </p>
            <p class="hasError" *ngIf="form.get('ripetipassword')?.touched && !passwordsMatch()">
              La password non corrisponde
            </p>

            <!-- Accetto Checkbox -->
          </div>
          <div class="d-flex justify-content-center">
            <label>Accetto i <a style="cursor: pointer;"><strong (click)="goToTerms()">Termini di
                  Servizio</strong></a></label>
            <input type="checkbox" name="accetto" formControlName="accetto" />
            <p class="hasError" *ngIf="!form.get('accetto')?.valid && form.get('accetto')?.touched">
              Il campo accetto e' è obbligatorio
            </p>
          </div>

          <!-- Registrati Button -->
          <div class="d-flex justify-content-center mx-4 mb-3 mb-lg-4">
            <button [disabled]="form.invalid" type="submit" data-mdb-button-init data-mdb-ripple-init
              class="btn btn-primary btn-lg">Registrati</button>
          </div>

          <!-- Redirect LoginPage -->
          <div class="d-flex justify-content-center">
            <p>
              Se sei già registrato,
              <a style="cursor: pointer"><strong (click)="goToLogin()">Accedi</strong></a>
            </p>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>